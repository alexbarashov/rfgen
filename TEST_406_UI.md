# Ручное тестирование страницы 406 MHz

## Цель
Проверить функциональность Save/Load/Auto-save на странице 406 MHz после исправления ошибки валидации.

## Исправленная проблема
✅ **Исправлено**: Валидатор профилей теперь поддерживает:
- Модуляции: `BPSK`, `GMSK`, `FSK` (для всех стандартов)
- Паттерны: `406`, `121`, `AIS`, `DSC_VHF`, `DSC_HF`, `NAVTEX`

## Тест 1: Save as Profile
**Шаги:**
1. Запустить приложение: `app_rfgen.bat`
2. Открыть страницу **406 MHz**
3. Изменить параметры:
   - TX Gain: `20 dB`
   - Beacon ID: `TEST123456789AB`
   - Frame Count: `5`
4. Нажать **"Save as Profile..."**
5. Сохранить как `test_406_manual.json`
6. Проверить, что файл создан в `rfgen/profiles/test_406_manual.json`

**Ожидаемый результат:**
- ✅ Файл сохранён без ошибок
- ✅ Статусбар показывает: "Profile saved: test_406_manual.json"

---

## Тест 2: Load Profile
**Шаги:**
1. Изменить параметры на странице:
   - TX Gain: `10 dB`
   - Beacon ID: `FFFFFFFFFFFFFFFF`
   - Frame Count: `1`
2. Нажать **"Load Profile..."**
3. Выбрать файл `test_406_manual.json`
4. Проверить, что параметры восстановились:
   - TX Gain: `20 dB` ✅
   - Beacon ID: `TEST123456789AB` ✅
   - Frame Count: `5` ✅

**Ожидаемый результат:**
- ✅ Профиль загружен без ошибок
- ✅ Статусбар показывает: "Profile loaded: test_406_manual.json"
- ✅ Все параметры восстановлены корректно

---

## Тест 3: Auto-save (default.json)
**Шаги:**
1. Открыть страницу **406 MHz**
2. Изменить **TX Gain** на `25 dB`
3. Подождать **2 секунды** (таймер автосохранения = 1 сек)
4. Закрыть приложение
5. Открыть файл `rfgen/profiles/default.json` в текстовом редакторе
6. Проверить, что:
   ```json
   {
     "name": "default",
     "standard": "c406",
     "device": {
       "tx_gain_db": 25,
       ...
     }
   }
   ```

**Ожидаемый результат:**
- ✅ Файл `default.json` содержит `"tx_gain_db": 25`
- ✅ Файл содержит `"standard": "c406"`

---

## Тест 4: Auto-load default.json при старте
**Шаги:**
1. Запустить приложение снова: `app_rfgen.bat`
2. Открыть страницу **406 MHz**
3. Проверить, что **TX Gain** = `25 dB`

**Ожидаемый результат:**
- ✅ TX Gain автоматически загрузился из `default.json`
- ✅ Другие параметры также загрузились из `default.json`

---

## Тест 5: Переключение между страницами
**Шаги:**
1. На странице **406 MHz** установить:
   - TX Gain: `30 dB`
   - Target: `406050000 Hz`
2. Переключиться на страницу **Basic**
3. Вернуться на страницу **406 MHz**
4. Проверить, что параметры сохранились:
   - TX Gain: `30 dB` ✅
   - Target: `406050000 Hz` ✅

**Ожидаемый результат:**
- ✅ Параметры страницы 406 сохранились после переключения

---

## Тест 6: Генерация IQ-файла (FileOut)
**Шаги:**
1. На странице **406 MHz**:
   - Backend: `fileout`
   - TX Gain: `15 dB`
   - Beacon ID: `123456789ABCDEF`
   - Frame Count: `1`
2. Нажать **"Generate"**
3. Выбрать путь для сохранения файла (например, `test_406_output.cf32`)
4. Дождаться завершения генерации

**Ожидаемый результат:**
- ✅ IQ-файл создан без ошибок
- ✅ Статусбар показывает: "Saved: test_406_output.cf32"
- ✅ Диалог показывает путь к файлу

---

## Cleanup
После тестирования можно удалить тестовые файлы:
```bash
del /F rfgen\profiles\test_406_manual.json
del /F test_406_output.cf32
```

---

## Статус автоматических тестов
✅ **Программный тест Save/Load** - PASSED (см. `test_save_load.py`)
✅ **Валидация профилей всех стандартов** - PASSED

## Статус ручных тестов
- [ ] Тест 1: Save as Profile
- [ ] Тест 2: Load Profile
- [ ] Тест 3: Auto-save (default.json)
- [ ] Тест 4: Auto-load при старте
- [ ] Тест 5: Переключение между страницами
- [ ] Тест 6: Генерация IQ-файла
